"use strict";(self.webpackChunktemh=self.webpackChunktemh||[]).push([[854],{17463:(e,l,t)=>{t.d(l,{A:()=>g});var i=t(65043),n=t(53969),a=t(47548),r=t(23182),o=t(95315),d=t(42455),s=t(79801),x=t(66185),c=t(87721),h=t(49982),u=t(69118),m=t(65767),p=t(73216),A=t(17193),f=t(70579);const j=[{label:"Dashboard",icon:(0,f.jsx)(c.A,{}),path:A.K.DASHBOARD},{label:"Users",icon:(0,f.jsx)(h.A,{}),path:A.K.LIST_ALL_USERS},{label:"Billing",icon:(0,f.jsx)(u.A,{}),path:A.K.BILLING},{label:"Billing Item",icon:(0,f.jsx)(u.A,{}),path:A.K.BILLING_ITEM},{label:"Billing Category",icon:(0,f.jsx)(u.A,{}),path:A.K.BILLING_CATEGORY},{label:"Financial Year",icon:(0,f.jsx)(u.A,{}),path:A.K.FINANCIALYEAR},{label:"Logout",icon:(0,f.jsx)(m.A,{}),path:"/logout",logout:!0}],g=e=>{let{onLogout:l}=e;const c=(0,p.Zp)(),[h,u]=((0,p.zy)(),(0,i.useState)(null));return(0,f.jsx)(n.A,{sx:{width:220,flexShrink:0,top:0,left:0,marginTop:"64px"},children:(0,f.jsxs)(a.Ay,{variant:"permanent",sx:{width:220,flexShrink:0,top:0,position:"relative","& .MuiDrawer-paper":{width:220,boxSizing:"border-box"},display:{xs:"none",sm:"block"}},children:[(0,f.jsx)(n.A,{sx:{marginTop:"10px",marginLeft:"30px",alignItems:"center",minWidth:120,height:"50px"},children:(0,f.jsx)("img",{src:t(82806),alt:"User Icon",style:{width:124,height:48}})}),(0,f.jsx)(r.A,{}),(0,f.jsxs)(n.A,{sx:{overflow:"auto",marginTop:"-62px"},children:[(0,f.jsx)(n.A,{sx:{height:"2px",borderBottom:"1px solid #CECECE",width:"100%"}}),(0,f.jsx)(o.A,{children:j.map(e=>(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(d.Ay,{button:!0,onClick:()=>(e=>{e.logout&&l?l():c(e.path)})(e),sx:{"&:hover":{backgroundColor:"#F0F8FF"},color:"text.primary",padding:"10px 20px",cursor:"pointer","&.Mui-selected":{backgroundColor:"#E0E0E0",color:"text.primary"}},children:[(0,f.jsx)(s.A,{children:e.icon}),(0,f.jsx)(x.A,{primary:e.label,sx:{fontSize:16,fontWeight:800}})]},e.label),(0,f.jsx)(n.A,{sx:{height:"1px",borderBottom:"1px solid #CECECE",width:"100%"}})]}))})]})]})})}},63854:(e,l,t)=>{t.r(l),t.d(l,{default:()=>I});var i=t(55895),n=t(53969),a=t(12097),r=t(30998),o=t(91244),d=t(94799),s=t(75285),x=(t(17463),t(65043)),c=t(78804),h=t(3388),u=t(5251),m=t(45297),p=t(70095),A=t(80379),f=t(59002),j=t(17869),g=t(24177),b=t(18020),v=t(83003),y=t(16679),w=t(17193),C=t(75067),S=t(70579);const F=[{name:"Consultation",value:4e3},{name:"Surgery",value:3e3},{name:"Medicine",value:2e3},{name:"Other",value:1500}],k=["#0088FE","#00C49F","#FFBB28","#533eaeff","#533eaeff","#ff8042","#d32f2f","#1976d2","#388e3c","#f57c00","#7b1fa2"];var N=0;const I=e=>{var l,t,I,W,E,L;let{element:B}=e;const[T,M]=(0,x.useState)(!1),{dashboardData:D}=(0,v.d4)(e=>e.dashboard),R=(0,v.wA)();(0,x.useEffect)(()=>{(0,c.Hm)()&&(window.location.href="/login"),R((0,y.H)())},[]);const z=[{title:`Today's Sales - ${null!==(l=null===D||void 0===D||null===(t=D.today)||void 0===t?void 0:t.count)&&void 0!==l?l:0}`,value:`\u20b9${parseFloat(null!==(I=null===D||void 0===D||null===(W=D.today)||void 0===W?void 0:W.sum)&&void 0!==I?I:0).toFixed(2)}`,icon:(0,S.jsx)(m.A,{fontSize:"large"}),gradient:"linear-gradient(90deg, #43cea2 0%, #185a9d 100%)"},...Array.isArray(null===D||void 0===D?void 0:D.todayByPaymentType)?D.todayByPaymentType.map(e=>{var l;return{title:e._id,value:`\u20b9${parseFloat(null!==(l=e.sum)&&void 0!==l?l:0).toFixed(2)}`,icon:(0,S.jsx)(C.A,{fontSize:"large"}),gradient:`linear-gradient(90deg, ${k[N++]} 0%, #185a9d 100%)`}}):[],{title:"Month Revenue",value:`\u20b9${parseFloat(null!==(E=null===D||void 0===D||null===(L=D.month)||void 0===L?void 0:L.sum)&&void 0!==E?E:0).toFixed(2)}`,icon:(0,S.jsx)(u.A,{fontSize:"large"}),gradient:"linear-gradient(90deg, #f953c6 0%, #b91d73 100%)"}],P=[{field:"userId",headerName:"Customer ID",width:150,renderCell:e=>(0,S.jsx)(i.A,{variant:"subtitle1",color:"textSecondary",children:e.value||"N/A"})},{field:"customerName",headerName:"Customer Name",width:150,renderCell:e=>(0,S.jsx)(i.A,{variant:"subtitle1",color:"textSecondary",children:e.value||"N/A"})},{field:"customerPhone",headerName:"Phone",width:100,renderCell:e=>(0,S.jsx)(i.A,{variant:"subtitle1",color:"textSecondary",children:e.value||"N/A"})},{field:"customerAddress",headerName:"Address",width:150,renderCell:e=>(0,S.jsx)(i.A,{variant:"subtitle1",color:"textSecondary",children:e.value||"N/A"})},{field:"taxAmount",headerName:"Tax",width:90,renderCell:e=>(0,S.jsx)(i.A,{variant:"subtitle1",fontWeight:"bold",color:"textSecondary",children:e.value?e.value.toFixed(2):"0.00"})},{field:"discountAmount",headerName:"Discount",width:90,renderCell:e=>(0,S.jsx)(i.A,{variant:"subtitle1",fontWeight:"bold",color:"textSecondary",children:e.value?e.value.toFixed(2):"0.00"})},{field:"totalAmount",headerName:"Total Amount",renderCell:e=>(0,S.jsx)(i.A,{variant:"subtitle1",fontWeight:"bold",color:"textSecondary",children:e.value?e.value.toFixed(2):"0.00"}),width:90},{field:"finalAmount",headerName:"Final Amount",renderCell:e=>(0,S.jsx)(i.A,{variant:"subtitle1",fontWeight:"bold",color:"textSecondary",children:e.value?e.value.toFixed(2):"0.00"}),width:90},{field:"paymentMethodDetails",headerName:"Payment Method",width:150,renderCell:e=>(0,S.jsx)(i.A,{variant:"subtitle1",color:"textSecondary",children:e.value||"N/A"})},{field:"",renderCell:e=>(0,S.jsxs)(n.A,{sx:{display:"flex",gap:1},children:[(0,S.jsx)(a.A,{label:"Modify",variant:"outlined",color:"warning",size:"small",onClick:()=>window.open(`${w.K.EDITBILLING}/${e.row._id}`,"_blank"),sx:{fontWeight:600},children:"Modify"}),(0,S.jsx)(a.A,{label:"Print",variant:"outlined",color:"primary",size:"small",sx:{fontWeight:600},onClick:()=>$(e.row),children:"Print"})]}),headerName:"Modify",width:200}],$=e=>{M(e)};return(0,S.jsxs)(r.A,{container:!0,sx:{ml:"64px"},children:[(0,S.jsx)(r.A,{item:!0,xs:12,children:(0,S.jsx)(s.A,{})}),(0,S.jsx)(r.A,{item:!0,xs:12,children:(0,S.jsxs)(n.A,{sx:{flexGrow:1,padding:"20px"},children:[(0,S.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3,flexDirection:"column"},children:[(0,S.jsxs)(n.A,{children:[(0,S.jsx)(i.A,{variant:"h3",fontWeight:"bold",sx:{background:"linear-gradient(90deg, #43cea2 0%, #185a9d 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Welcome to Thakur Eye Hospital Billing Dashboard"}),(0,S.jsx)(i.A,{variant:"h6",color:"text.secondary",sx:{mt:1},children:"Manage your billing, patients, and reports efficiently."})]}),(0,S.jsx)(n.A,{sx:{display:"flex",gap:2,mt:4,mb:4},children:z.map((e,l)=>(0,S.jsxs)(o.A,{sx:{minWidth:180,color:"#fff",background:e.gradient,boxShadow:3,borderRadius:3,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",px:2,py:2},children:[(0,S.jsx)(n.A,{sx:{mb:1},children:e.icon}),(0,S.jsx)(i.A,{variant:"subtitle2",sx:{opacity:.9},children:e.title}),(0,S.jsx)(i.A,{variant:"h5",fontWeight:"bold",children:e.value})]},l))})]}),(0,S.jsxs)(r.A,{container:!0,spacing:3,children:[(0,S.jsx)(r.A,{item:!0,xs:12,md:7,children:(0,S.jsxs)(d.A,{sx:{p:2,boxShadow:2},children:[(0,S.jsx)(i.A,{variant:"h6",fontWeight:"bold",sx:{mb:2},children:"Today's Last 10 Billed Report"}),(0,S.jsx)("div",{style:{height:320,width:"100%"},children:(0,S.jsx)(h.z,{rows:((null===D||void 0===D?void 0:D.last10)||[]).map((e,l)=>{var t,i;return{...e,id:null!==(t=null!==(i=e.id)&&void 0!==i?i:e._id)&&void 0!==t?t:l+1}}),columns:P,pageSize:5,rowsPerPageOptions:[5,10,20],disableSelectionOnClick:!0,hideFooterSelectedRowCount:!0})})]})}),(0,S.jsx)(r.A,{item:!0,xs:12,md:5,children:(0,S.jsxs)(d.A,{sx:{p:2,boxShadow:2,height:"100%"},children:[(0,S.jsx)(i.A,{variant:"h6",fontWeight:"bold",sx:{mb:2},children:"Month Report (Revenue by Category)"}),(0,S.jsx)(f.u,{width:"100%",height:250,children:(0,S.jsxs)(b.r,{children:[(0,S.jsx)(g.F,{data:F,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:l,percent:t}=e;return`${l}: ${(100*t).toFixed(0)}%`},outerRadius:90,fill:"#8884d8",dataKey:"value",children:F.map((e,l)=>(0,S.jsx)(j.f,{fill:k[l%k.length]},`cell-${l}`))}),(0,S.jsx)(A.m,{}),(0,S.jsx)(p.s,{})]})})]})})]})]})})]})}},75285:(e,l,t)=>{t.d(l,{A:()=>j});t(65043);var i=t(26887),n=t(23182),a=t(94799),r=t(23209),o=t(56647),d=t(53969),s=t(17873),x=t(55895),c=t(12097),h=t(63745),u=t(65767),m=t(69118),p=t(8888);var A=t(78804),f=t(70579);const j=()=>(0,f.jsx)(i.A,{color:"inherit",elevation:2,children:(0,f.jsxs)(n.A,{sx:{justifyContent:"space-between",flexWrap:"wrap"},children:[(0,f.jsxs)(a.A,{component:"form",sx:{p:"2px 8px",display:"flex",alignItems:"center",width:{xs:180,sm:300,md:400},mx:2,flexGrow:1,maxWidth:500,boxShadow:"none",background:"#f5f6fa",marginLeft:"230px"},children:[(0,f.jsx)(r.Ay,{sx:{ml:1,flex:1},placeholder:"Search\u2026",inputProps:{"aria-label":"search"}}),(0,f.jsx)(o.A,{type:"submit",sx:{p:"8px"},"aria-label":"search",children:(0,f.jsx)(h.A,{})})]}),(0,f.jsxs)(d.A,{sx:{display:"flex",alignItems:"center",minWidth:120,justifyContent:"flex-end"},children:[(0,f.jsx)(s.A,{sx:{bgcolor:"secondary.main",mr:1},children:(0,f.jsx)(m.A,{})}),(0,f.jsx)(x.A,{variant:"subtitle1",sx:{display:{xs:"none",sm:"block"}},children:"Welcome, "+(0,A.MN)()}),(0,f.jsx)(c.A,{color:"inherit",startIcon:(0,f.jsx)(u.A,{}),onClick:async()=>{await localStorage.clear(),window.location.href="/login"},sx:{textTransform:"none"}}),(0,f.jsx)(o.A,{color:"inherit",onClick:()=>{document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()},sx:{ml:2},children:(0,f.jsx)(p.A,{})})]})]})})},82806:(e,l,t)=>{e.exports=t.p+"static/media/logo.870334cf6e9a271377ab.png"}}]);
//# sourceMappingURL=854.7d9a3777.chunk.js.map