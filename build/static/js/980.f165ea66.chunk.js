"use strict";(self.webpackChunktemh=self.webpackChunktemh||[]).push([[980],{6835:(e,t,i)=>{i.d(t,{A:()=>a,G:()=>o});var r=i(79857),n=i(86061);function o(e){return(0,n.Ay)("MuiIconButton",e)}const a=(0,r.A)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"])},40146:(e,t,i)=>{i.d(t,{A:()=>o});var r=i(99992),n=i(70579);const o=(0,r.A)((0,n.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11h-4v4h-2v-4H7v-2h4V7h2v4h4z"}),"AddCircle")},44171:(e,t,i)=>{i.d(t,{A:()=>a,K:()=>o});var r=i(79857),n=i(86061);function o(e){return(0,n.Ay)("MuiDivider",e)}const a=(0,r.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"])},47471:(e,t,i)=>{i.d(t,{A:()=>C});var r=i(65043),n=i(58387),o=i(31807),a=i(42466),l=i(58128),s=i(51612),d=i(69192),c=i(59066),p=i(49699),u=i(14418),m=i(38348),h=i(44171),g=i(86057),v=i(81977),A=i(79857),x=i(86061);function b(e){return(0,x.Ay)("MuiMenuItem",e)}const y=(0,A.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var j=i(70579);const f=(0,l.Ay)(p.A,{shouldForwardProp:e=>(0,a.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.dense&&t.dense,i.divider&&t.divider,!i.disableGutters&&t.gutters]}})((0,s.A)(e=>{let{theme:t}=e;return{...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${y.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${y.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}},[`&.${y.selected}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},[`&.${y.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${y.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${h.A.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${h.A.inset}`]:{marginLeft:52},[`& .${v.A.root}`]:{marginTop:0,marginBottom:0},[`& .${v.A.inset}`]:{paddingLeft:36},[`& .${g.A.root}`]:{minWidth:36},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return t.divider},style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:e=>{let{ownerState:t}=e;return!t.dense},style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:e=>{let{ownerState:t}=e;return t.dense},style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${g.A.root} svg`]:{fontSize:"1.25rem"}}}]}})),C=r.forwardRef(function(e,t){const i=(0,d.b)({props:e,name:"MuiMenuItem"}),{autoFocus:a=!1,component:l="li",dense:s=!1,divider:p=!1,disableGutters:h=!1,focusVisibleClassName:g,role:v="menuitem",tabIndex:A,className:x,...y}=i,C=r.useContext(c.A),I=r.useMemo(()=>({dense:s||C.dense||!1,disableGutters:h}),[C.dense,s,h]),z=r.useRef(null);(0,u.A)(()=>{a&&z.current&&z.current.focus()},[a]);const M={...i,dense:I.dense,divider:p,disableGutters:h},$=(e=>{const{disabled:t,dense:i,divider:r,disableGutters:n,selected:a,classes:l}=e,s={root:["root",i&&"dense",t&&"disabled",!n&&"gutters",r&&"divider",a&&"selected"]},d=(0,o.A)(s,b,l);return{...l,...d}})(i),S=(0,m.A)(z,t);let w;return i.disabled||(w=void 0!==A?A:-1),(0,j.jsx)(c.A.Provider,{value:I,children:(0,j.jsx)(f,{ref:S,role:v,tabIndex:w,component:l,focusVisibleClassName:(0,n.A)($.focusVisible,g),className:(0,n.A)($.root,x),...y,ownerState:M,classes:$})})})},56647:(e,t,i)=>{i.d(t,{A:()=>x});var r=i(65043),n=i(58387),o=i(31807),a=i(16572),l=i(58128),s=i(51612),d=i(34412),c=i(69192),p=i(49699),u=i(80172),m=i(97194),h=i(6835),g=i(70579);const v=(0,l.Ay)(p.A,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.loading&&t.loading,"default"!==i.color&&t[`color${(0,m.A)(i.color)}`],i.edge&&t[`edge${(0,m.A)(i.edge)}`],t[`size${(0,m.A)(i.size)}`]]}})((0,s.A)(e=>{let{theme:t}=e;return{textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]}}),(0,s.A)(e=>{let{theme:t}=e;return{variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter((0,d.A)()).map(e=>{let[i]=e;return{props:{color:i},style:{color:(t.vars||t).palette[i].main}}}),...Object.entries(t.palette).filter((0,d.A)()).map(e=>{let[i]=e;return{props:{color:i},style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette[i].main,(t.vars||t).palette.action.hoverOpacity)}}}),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${h.A.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${h.A.loading}`]:{color:"transparent"}}})),A=(0,l.Ay)("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(e=>{let{theme:t}=e;return{display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]}}),x=r.forwardRef(function(e,t){const i=(0,c.b)({props:e,name:"MuiIconButton"}),{edge:r=!1,children:l,className:s,color:d="default",disabled:p=!1,disableFocusRipple:x=!1,size:b="medium",id:y,loading:j=null,loadingIndicator:f,...C}=i,I=(0,a.A)(y),z=f??(0,g.jsx)(u.A,{"aria-labelledby":I,color:"inherit",size:16}),M={...i,edge:r,color:d,disabled:p,disableFocusRipple:x,loading:j,loadingIndicator:z,size:b},$=(e=>{const{classes:t,disabled:i,color:r,edge:n,size:a,loading:l}=e,s={root:["root",l&&"loading",i&&"disabled","default"!==r&&`color${(0,m.A)(r)}`,n&&`edge${(0,m.A)(n)}`,`size${(0,m.A)(a)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return(0,o.A)(s,h.G,t)})(M);return(0,g.jsxs)(v,{id:j?I:y,className:(0,n.A)($.root,s),centerRipple:!0,focusRipple:!x,disabled:p||j,ref:t,...C,ownerState:M,children:["boolean"===typeof j&&(0,g.jsx)("span",{className:$.loadingWrapper,style:{display:"contents"},children:(0,g.jsx)(A,{className:$.loadingIndicator,ownerState:M,children:j&&z})}),l]})})},72980:(e,t,i)=>{i.r(t),i.d(t,{default:()=>$});var r=i(65043),n=i(53969),o=i(94799),a=i(55895),l=i(66154),s=i(47471),d=i(56647),c=i(28259),p=i(87443),u=i(10756),m=i(86172),h=i(81341),g=i(34375),v=i(40146),A=i(99992),x=i(70579);const b=(0,A.A)((0,x.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),y=(0,A.A)((0,x.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),j=(0,A.A)((0,x.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save"),f=(0,A.A)((0,x.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel");var C=i(87804),I=i(88998),z=i(83003);const M={_id:"",name:"",description:"",quantity:1,unitPrice:0,totalPrice:0,tax:0,discount:0,category:""},$=()=>{const[e,t]=(0,r.useState)([]),[i,A]=(0,r.useState)(M),[$,S]=(0,r.useState)(null),{billingCategory:w}=(0,z.d4)(e=>e.billingCategory),{billingItems:k}=(0,z.d4)(e=>e.billingItems),P=(0,z.wA)();(0,r.useEffect)(()=>{P((0,C.C9)()),P((0,I.s)())},[]);const B=e=>{const t=e.quantity*e.unitPrice+e.tax-e.discount;return t>0?t:0},R=e=>{const{name:t,value:r}=e.target;let n={...i,[t]:"quantity"===t||"unitPrice"===t||"tax"===t||"discount"===t?Number(r):r};n.totalPrice=B(n),A(n)};return(0,x.jsxs)(n.A,{sx:{p:{xs:1,sm:3}},children:[(0,x.jsxs)(o.A,{sx:{p:3,mb:3},children:[(0,x.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:null!==$?"Edit Billing Item":"Add Billing Item"}),(0,x.jsxs)(n.A,{component:"form",sx:{display:"flex",width:"100%",flexDirection:"row",gap:2,flexWrap:"wrap"},children:[(0,x.jsx)(l.A,{label:"Name",name:"name",value:i.name,onChange:R,required:!0}),(0,x.jsx)(l.A,{label:"Description",name:"description",value:i.description,onChange:R}),(0,x.jsx)(l.A,{select:!0,label:"Category",name:"category",value:i.category,onChange:R,required:!0,sx:{minWidth:200},children:w&&w.map(e=>(0,x.jsx)(s.A,{value:e._id,children:e.name},e._id))})]}),(0,x.jsxs)(n.A,{sx:{display:"flex",gap:2,flexWrap:"wrap",marginTop:2},children:[(0,x.jsx)(l.A,{label:"Quantity",name:"quantity",type:"number",value:i.quantity,onChange:R,required:!0,inputProps:{min:1},sx:{minWidth:100}}),(0,x.jsx)(l.A,{label:"Unit Price",name:"unitPrice",type:"number",value:i.unitPrice,onChange:R,required:!0,inputProps:{min:0},sx:{minWidth:100}}),(0,x.jsx)(l.A,{label:"Tax",name:"tax",type:"number",value:i.tax,onChange:R,inputProps:{min:0},sx:{minWidth:80}}),(0,x.jsx)(l.A,{label:"Discount",name:"discount",type:"number",value:i.discount,onChange:R,inputProps:{min:0},sx:{minWidth:80}}),null!==$?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(d.A,{color:"primary",onClick:()=>{P((0,C._U)({...i,totalPrice:B(i)})).then(r=>{if(r.payload){const r=e.map((e,t)=>t===$?{...i,totalPrice:B(i)}:e);t(r)}S(null),A(M)}).catch(e=>{console.error("Error updating billing item:",e)})},children:(0,x.jsx)(j,{})}),(0,x.jsx)(d.A,{color:"error",onClick:()=>{S(null),A(M)},children:(0,x.jsx)(f,{})})]}):(0,x.jsx)(d.A,{color:"primary",onClick:()=>{P((0,C.Iz)(i)).then(r=>{r.payload&&t([...e,{...i,totalPrice:B(i)}]),A(M)}).catch(e=>{console.error("Error adding billing item:",e)})},children:(0,x.jsx)(v.A,{})})]})]}),(0,x.jsxs)(o.A,{sx:{p:2},children:[(0,x.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Billing Items List"}),(0,x.jsx)(c.A,{children:(0,x.jsxs)(p.A,{size:"small",children:[(0,x.jsx)(u.A,{children:(0,x.jsxs)(m.A,{children:[(0,x.jsx)(h.A,{children:"Name"}),(0,x.jsx)(h.A,{children:"Description"}),(0,x.jsx)(h.A,{children:"Quantity"}),(0,x.jsx)(h.A,{children:"Unit Price"}),(0,x.jsx)(h.A,{children:"Tax"}),(0,x.jsx)(h.A,{children:"Discount"}),(0,x.jsx)(h.A,{children:"Category"}),(0,x.jsx)(h.A,{children:"Total Price"}),(0,x.jsx)(h.A,{children:"Actions"})]})}),(0,x.jsxs)(g.A,{children:[k&&k.map((i,r)=>{var n,o,a,l,s;return(0,x.jsxs)(m.A,{children:[(0,x.jsx)(h.A,{children:null===i||void 0===i?void 0:i.name}),(0,x.jsx)(h.A,{children:null===i||void 0===i?void 0:i.description}),(0,x.jsx)(h.A,{children:null===i||void 0===i?void 0:i.quantity}),(0,x.jsx)(h.A,{children:null===i||void 0===i||null===(n=i.unitPrice)||void 0===n?void 0:n.$numberDecimal}),(0,x.jsx)(h.A,{children:null===i||void 0===i||null===(o=i.tax)||void 0===o?void 0:o.$numberDecimal}),(0,x.jsx)(h.A,{children:null===i||void 0===i||null===(a=i.discount)||void 0===a?void 0:a.$numberDecimal}),(0,x.jsx)(h.A,{children:(null===(l=w.find(e=>e._id===i.billingCategory))||void 0===l?void 0:l.name)||""}),(0,x.jsx)(h.A,{children:parseFloat(null===i||void 0===i||null===(s=i.totalPrice)||void 0===s?void 0:s.$numberDecimal).toFixed(2)}),(0,x.jsxs)(h.A,{children:[(0,x.jsx)(d.A,{color:"primary",onClick:()=>(t=>{S(t),A(e[t])})(r),children:(0,x.jsx)(b,{})}),(0,x.jsx)(d.A,{color:"error",onClick:()=>(i=>{P((0,C.Cb)(e[i]._id)).then(r=>{r.payload&&(t(e.filter((e,t)=>t!==i)),S(null),A(M))}).catch(e=>{console.error("Error deleting billing item:",e)})})(r),children:(0,x.jsx)(y,{})})]})]},r)}),0===e.length&&(0,x.jsx)(m.A,{children:(0,x.jsx)(h.A,{colSpan:9,align:"center",children:"No billing items added."})})]})]})})]})]})}},81977:(e,t,i)=>{i.d(t,{A:()=>a,b:()=>o});var r=i(79857),n=i(86061);function o(e){return(0,n.Ay)("MuiListItemText",e)}const a=(0,r.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"])},86057:(e,t,i)=>{i.d(t,{A:()=>a,f:()=>o});var r=i(79857),n=i(86061);function o(e){return(0,n.Ay)("MuiListItemIcon",e)}const a=(0,r.A)("MuiListItemIcon",["root","alignItemsFlexStart"])}}]);
//# sourceMappingURL=980.f165ea66.chunk.js.map